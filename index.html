<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ü–æ—Ç—É–∂–Ω–æ–º–µ—Ç—Ä + –ü—Ä–æ–∫–∞—á–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –î–ê–ù–Ø –ò–î–ò –ù–ê–•–£–ô –ò–ó–ó–ê –¢–ï–ë–Ø –ë–û–¢ –õ–ê–ì–ê–ï–¢</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: linear-gradient(to bottom, #0d1b2a, #1b263b);
  color: white;
  text-align: center;
  padding: 30px 20px;
}
h1 { font-size: 2.5em; margin-bottom: 20px; text-shadow: 0 0 10px #ffcc00; }

#power-container {
  width: 80%;
  margin: 20px auto;
  height: 40px;
  background: #333;
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 0 20px #000 inset;
}
#power-bar {
  height: 100%;
  width: 0%;
  background: green;
  border-radius: 20px;
  transition: width 1s, background 1s;
}

#power-value, #points-value, #energy-value, #mood-text {
  font-size: 1.8em;
  margin: 10px 0;
}

button {
  background: #ffcc00;
  color: black;
  border: none;
  padding: 12px 30px;
  font-size: 1.2em;
  border-radius: 12px;
  cursor: pointer;
  margin: 5px;
  box-shadow: 0 0 10px #ffcc00;
  transition: 0.3s;
}
button:hover { background: #ffaa00; }

#tom { width: 200px; margin: 20px; }

/* –ï—Ñ–µ–∫—Ç –±–ª–∏—Å–∫—É –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –±–∞—Ä—É */
@keyframes blink {
  0%,100% { box-shadow: 0 0 20px red; }
  50% { box-shadow: 0 0 40px yellow; }
}
</style>
</head>
<body>

<h1>üî• –ü–æ—Ç—É–∂–Ω–æ–º–µ—Ç—Ä + –ü—Ä–æ–∫–∞—á–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ üî•</h1>

<div id="power-container"><div id="power-bar"></div></div>
<div>–†–µ–∑—É–ª—å—Ç–∞—Ç: <span id="power-value">0</span></div>
<div>–û—á–∫–∏: <span id="points-value">0</span></div>

<img id="tom" src="https://i.imgur.com/3s5c8I0.png">
<div id="mood-text">–Ø —Å—É–º–Ω–∏–π üòî</div>
<div>–ï–Ω–µ—Ä–≥—ñ—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞: <span id="energy-value">50</span></div>

<button onclick="measurePower()">–í–∏–º—ñ—Ä—è—Ç–∏ –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å</button>
<button onclick="upgrade('energy')">–ü—Ä–æ–∫–∞—á–∞—Ç–∏ –µ–Ω–µ—Ä–≥—ñ—é (10 –æ—á–æ–∫)</button>

<audio id="sound-high" src="https://www.soundjay.com/button/beep-07.mp3"></audio>
<audio id="sound-max" src="https://www.soundjay.com/button/button-3.mp3"></audio>

<script>
// –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–µ—Å—É
let points = parseInt(localStorage.getItem("points")) || 0;
let energy = parseInt(localStorage.getItem("energy")) || 50;

document.getElementById("points-value").innerText = points;
document.getElementById("energy-value").innerText = energy;

// –ê–Ω—ñ–º–∞—Ü—ñ—è —á–∏—Å–ª–∞
function animateValue(id, start, end, duration) {
  let range = end - start;
  let current = start;
  let increment = range / (duration / 20);
  let obj = document.getElementById(id);
  let timer = setInterval(() => {
    current += increment;
    if ((increment > 0 && current >= end) || (increment < 0 && current <= end)) {
      current = end;
      clearInterval(timer);
    }
    obj.innerText = Math.floor(current);
  }, 20);
}

// –í–∏–º—ñ—Ä –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ
function measurePower() {
  const value = Math.floor(Math.random() * 9999) + 1;
  const bar = document.getElementById("power-bar");
  const percent = Math.min(value / 9999 * 100, 100);
  bar.style.width = percent + "%";

  const highSound = document.getElementById("sound-high");
  const maxSound = document.getElementById("sound-max");
  bar.style.animation = "";

  if(value < 1000) bar.style.background = "green";
  else if(value < 5000) bar.style.background = "yellow";
  else if(value < 9000) {
    bar.style.background = "orange";
    highSound.play();
  } else {
    bar.style.background = "red";
    maxSound.play();
    bar.style.animation = "blink 1s infinite";
  }

  animateValue("power-value", 0, value, 1000);

  // –î–æ–¥–∞—î–º–æ –æ—á–∫–∏
  const earnedPoints = Math.floor(value / 100);
  points += earnedPoints;
  document.getElementById("points-value").innerText = points;

  // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –ø—Ä–æ–≥—Ä–µ—Å
  localStorage.setItem("points", points);
  localStorage.setItem("energy", energy);

  // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–∞—Å—Ç—Ä–æ—é –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
  updateMood();
}

// –ü—Ä–æ–∫–∞—á–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
function upgrade(type) {
  if(points < 10){
    alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –æ—á–æ–∫!");
    return;
  }
  points -= 10;
  if(type === 'energy'){
    energy += 10;
    energy = Math.min(100, energy);
    document.getElementById("energy-value").innerText = energy;
    alert("–ï–Ω–µ—Ä–≥—ñ—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –∑–±—ñ–ª—å—à–µ–Ω–∞!");
  }

  document.getElementById("points-value").innerText = points;
  localStorage.setItem("points", points);
  localStorage.setItem("energy", energy);
  updateMood();
}

// –ó–º—ñ–Ω—é—î–º–æ –Ω–∞—Å—Ç—Ä—ñ–π –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –µ–Ω–µ—Ä–≥—ñ—ó
function updateMood() {
  const moodText = document.getElementById("mood-text");
  if(energy < 30) moodText.innerText = "–Ø —Å—É–º–Ω–∏–π üòî";
  else if(energy < 70) moodText.innerText = "–Ø —â–∞—Å–ª–∏–≤–∏–π üôÇ";
  else moodText.innerText = "–Ø –¥—É–∂–µ —â–∞—Å–ª–∏–≤–∏–π üòÑ";
}

// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –Ω–∞—Å—Ç—Ä–æ—é –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
updateMood();
</script>

</body>
</html>
