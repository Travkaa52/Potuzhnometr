<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ü–æ—Ç—É–∂–Ω–æ–º–µ—Ç—Ä ‚Äì –í–µ–±-–≥—Ä–∞</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    /* —Å—Ç–∏–ª–∏ —Ç–∞–∫–∏–µ –∂–µ, –∫–∞–∫ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ ‚Äî –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π */
  </style>
</head>
<body>
<div id="app">
  <div class="container">
    <div class="header-section">
      <button class="top-icon-btn hidden" id="back-arrow-btn">
        <img src="settings-icon.png" alt="–ù–∞–∑–∞–¥" class="w-5 h-5">
      </button>
      <button class="top-icon-btn ml-auto" id="info-btn">
        <img src="settings-icon.png" alt="–†–µ–∂–∏–º–∏" class="w-5 h-5">
      </button>
    </div>

    <div id="menu">
      <h1 class="mb-4">
        <img src="ua-flag.png" alt="–ü—Ä–∞–ø–æ—Ä –£–∫—Ä–∞—ó–Ω–∏" class="ua-flag">
        –í–∏–±–µ—Ä—ñ—Ç—å –≤–∏–º—ñ—Ä—é–≤–∞—á
      </h1>
      <p class="description">–í–∏–º—ñ—Ä—è–π—Ç–µ –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å –∞–±–æ –∑—Ä–∞–¥—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –Ω–∞—à–æ–≥–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞.</p>
      <button class="menu-btn" id="potuzhnistBtn">–ü–æ—Ç—É–∂–Ω–æ–º—ñ—Ä</button>
      <button class="menu-btn" id="zradaBtn">–ó—Ä–∞–¥–æ–º–µ—Ç—Ä</button>
    </div>

    <div id="meter-screen" class="hidden">
      <div class="title-section">
        <h1 id="meterTitle"></h1>
        <p class="description">FM-V2.3.0 –ü–£–°–ö 100 –ú–õ–ù</p>
      </div>

      <div class="section">
        <div class="section-title">
          <span class="status-dot"></span>
          <span id="scale-label">–®–ö–ê–õ–ê –ü–û–¢–£–ñ–ù–û–°–¢–Ü</span>
          <span class="section-icon" id="meter-icon"></span>
        </div>
        <div id="scale"></div>
        <div class="scale-labels"><span>MIN</span><span>MAX</span></div>
      </div>

      <div id="result-display" class="section">
        <div id="result-value-box">
          <span id="result-label" class="result-label">–ü–û–ö–ê–ó–ù–ò–ö –ü–û–¢–£–ñ–ù–û–°–¢–Ü</span>
          <div id="result">0%</div>
          <span class="result-label">–ú–û–î–£–õ–¨ "–¢–ï–†–ú–û–î–ê–¢–ê"</span>
        </div>
        <div id="mode-section">
          <span class="text-xs text-gray-400">–†–ï–ñ–ò–ú</span>
          <span id="mode-text">–†–ê–ù–î–û–ú</span>
        </div>
      </div>

      <div class="slider-container" id="manual-mode-slider">
        <input type="range" min="0" max="100" value="0" class="slider" id="power-range">
      </div>

      <div id="buttons-container">
        <button id="measureBtn">–í–∏–º—ñ—Ä—è—Ç–∏</button>
        <button id="backBtn" class="hidden">–ù–∞–∑–∞–¥</button>
      </div>
    </div>
  </div>
</div>

<div id="mode-modal" class="hidden">
  <div class="modal-content">
    <div class="modal-header">
      <h2>–†–ï–ñ–ò–ú –í–ò–ú–Ü–†–Æ–í–ê–ù–ù–Ø</h2>
      <button class="modal-close-btn" id="close-modal-btn">&times;</button>
    </div>
    <div class="modal-item"><h3>üëÜ –î–û–¢–ò–ö</h3><p class="text-sm text-gray-400">–ö–æ—Ä–æ—Ç–∫—ñ –∫–ª—ñ–∫–∏: —Å—Ç–∞—Ä—Ç ‚Äì —Å—Ç–æ–ø ‚Äì —Å–ø–∞–¥.</p></div>
    <div class="modal-item"><h3>üëå –£–¢–†–ò–ú–ê–ù–ù–Ø</h3><p class="text-sm text-gray-400">–£—Ç—Ä–∏–º—É–π—Ç–µ, —â–æ–± –∑–±—ñ–ª—å—à—É–≤–∞—Ç–∏ –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å.</p></div>
    <div class="modal-item"><h3>üé≤ –†–ê–ù–î–û–ú</h3><p class="text-sm text-gray-400">–í–∏–ø–∞–¥–∫–æ–≤–µ –≤–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è.</p></div>
    <div class="modal-item"><h3>üñêÔ∏è –†–£–ß–ù–ò–ô</h3><p class="text-sm text-gray-400">–ö–µ—Ä—É–π—Ç–µ –ø–æ–≤–∑—É–Ω–∫–æ–º.</p></div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded',()=>{
  const menu=document.getElementById('menu'),
        screen=document.getElementById('meter-screen'),
        meterTitle=document.getElementById('meterTitle'),
        scale=document.getElementById('scale'),
        result=document.getElementById('result'),
        meterIcon=document.getElementById('meter-icon'),
        scaleLabel=document.getElementById('scale-label'),
        resultLabel=document.getElementById('result-label'),
        potBtn=document.getElementById('potuzhnistBtn'),
        zraBtn=document.getElementById('zradaBtn'),
        measure=document.getElementById('measureBtn'),
        backArrow=document.getElementById('back-arrow-btn'),
        backBtn=document.getElementById('backBtn'),
        info=document.getElementById('info-btn'),
        modal=document.getElementById('mode-modal'),
        closeModal=document.getElementById('close-modal-btn'),
        range=document.getElementById('power-range');

  let type='';

  // 50 –¥–µ–ª–µ–Ω–∏–π —à–∫–∞–ª—ã
  for(let i=0;i<50;i++){
    const bar=document.createElement('div');
    bar.className='scale-bar';
    scale.appendChild(bar);
  }

  function show(id){
    menu.classList.add('hidden');
    screen.classList.add('hidden');
    modal.classList.add('hidden');
    document.getElementById(id).classList.remove('hidden');
  }

  function updateScale(v){
    document.querySelectorAll('.scale-bar').forEach((b,i)=>{
      b.className='scale-bar';
      if(i<Math.floor(v/2)){
        b.classList.add('active');
        if(type==='potuzhnist') b.classList.add(v<50?'green':v<80?'yellow':'red');
        else b.classList.add(v<50?'red':v<80?'yellow':'green');
      }
    });
  }

  function updateResult(v){
    result.textContent=v+'%';
    updateScale(v);
  }

  potBtn.onclick=()=>{
    type='potuzhnist';
    meterTitle.textContent='–ü–û–¢–£–ñ–ù–û–ú–Ü–†';
    meterIcon.innerHTML='<img src="skull-icon.png" alt="–ü–æ—Ç—É–∂–Ω—ñ—Å—Ç—å">';
    scaleLabel.textContent='–®–ö–ê–õ–ê –ü–û–¢–£–ñ–ù–û–°–¢–Ü';
    resultLabel.textContent='–ü–û–ö–ê–ó–ù–ò–ö –ü–û–¢–£–ñ–ù–û–°–¢–Ü';
    show('meter-screen'); backArrow.classList.remove('hidden');
  };

  zraBtn.onclick=()=>{
    type='zrada';
    meterTitle.textContent='–ó–†–ê–î–û–ú–ï–¢–†';
    meterIcon.innerHTML='<img src="settings-icon.png" alt="–ó—Ä–∞–¥–∞">';
    scaleLabel.textContent='–®–ö–ê–õ–ê –ó–†–ê–î–ò';
    resultLabel.textContent='–ü–û–ö–ê–ó–ù–ò–ö –ó–†–ê–î–ò';
    show('meter-screen'); backArrow.classList.remove('hidden');
  };

  measure.onclick=()=>{
    let v=0;
    const t=setInterval(()=>{
      v+=Math.floor(Math.random()*5);
      if(v>=100){v=100;clearInterval(t);}
      updateResult(v);
    },100);
  };

  backArrow.onclick=()=>show('menu');
  backBtn.onclick=()=>show('menu');
  info.onclick=()=>modal.classList.remove('hidden');
  closeModal.onclick=()=>modal.classList.add('hidden');
  range.oninput=e=>updateResult(e.target.value);
});
</script>
</body>
</html>
