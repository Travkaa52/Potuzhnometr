<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>–ü–æ—Ç—É–∂–Ω–æ–º–µ—Ç—Ä</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: linear-gradient(to bottom, #1f1c2c, #928dab);
  color: white;
  text-align: center;
  margin: 0;
  padding: 20px;
}
h1 { font-size: 2em; margin-bottom: 20px; text-shadow: 0 0 10px #ffd700; }
#power-container { width: 80%; margin: 20px auto; height: 40px; background: #333; border-radius: 20px; overflow: hidden; }
#power-bar { height: 100%; width: 0%; background: green; border-radius: 20px; transition: width 0.5s, background 0.5s; }
#power-value { margin-top: 10px; font-size: 1.5em; font-weight: bold; }
#power-text { margin-top: 5px; font-size: 1.2em; min-height: 20px; }
button { background: #ff6f61; color: white; border: none; padding: 10px 20px; font-size: 1em; border-radius: 8px; cursor: pointer; margin-top: 20px; transition: 0.3s; }
button:hover { background: #ff3b2e; }
#cat-container img { width: 150px; height: 150px; margin-top: 20px; }
.skin-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; margin-top: 20px; }
.skin { cursor: pointer; text-align: center; }
.skin img { width: 80px; height: 80px; border: 2px solid #fff; border-radius: 8px; }
#stats { margin-top: 30px; }
table { margin: 0 auto; border-collapse: collapse; width: 90%; max-width: 600px; }
table, th, td { border: 1px solid #fff; }
th, td { padding: 8px; text-align: center; }
.level-up { animation: glow 1s infinite alternate; }
@keyframes glow {
  0% { text-shadow: 0 0 5px #ff0; }
  100% { text-shadow: 0 0 20px #ff0; }
}
</style>
</head>
<body>

<h1>üî• –ü–æ—Ç—É–∂–Ω–æ–º–µ—Ç—Ä üî•</h1>

<div id="power-container">
  <div id="power-bar"></div>
</div>
<div id="power-value">0</div>
<div id="power-text"></div>

<button id="measure-btn">–í–∏–º—ñ—Ä—è—Ç–∏ –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å</button>

<div id="cat-container">
  <!-- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫–æ—Ç —Å–∫–∏–Ω–∞ "cool" -->
  <img id="cat-img" src="skins/cool.png" alt="–ö—ñ—Ç">
</div>

<h2>–ú–∞–≥–∞–∑–∏–Ω —Å–∫–∏–Ω—ñ–≤</h2>
<div class="skin-container" id="shop"></div>

<h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
<div id="stats">
  <table>
    <thead>
      <tr>
        <th>–ú—ñ—Å—Ü–µ</th>
        <th>–Ü–º‚Äô—è</th>
        <th>–û—á–∫–∏</th>
      </tr>
    </thead>
    <tbody id="leaderboard">
    </tbody>
  </table>
</div>

<script>
// –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–∫–∏–Ω–æ–≤ –∫—Ä–æ–º–µ "cool"
const skins = [
  "Gemini_Generated_Image_5nszyk5nszyk5nsz.png",
  "Gemini_Generated_Image_kuuk4dkuuk4dkuuk.png",
  "Gemini_Generated_Image_mwuup6mwuup6mwuu.png",
  "Gemini_Generated_Image_n8rum0n8rum0n8ru.png",
  "Gemini_Generated_Image_upj5p1upj5p1upj5cool.png",
  "Gemini_Generated_Image_extra1.png",
  "Gemini_Generated_Image_extra2.png",
  "Gemini_Generated_Image_extra3.png"
];

// –ú–∞–≥–∞–∑–∏–Ω —Å–∫–∏–Ω–æ–≤
const shopContainer = document.getElementById('shop');
skins.forEach(skin => {
  const div = document.createElement('div');
  div.classList.add('skin');
  div.innerHTML = `<img src="skins/${skin}" alt="${skin}"><p>${skin.split('.')[0]}</p>`;
  div.onclick = () => selectSkin(skin);
  shopContainer.appendChild(div);
});

function selectSkin(skin) {
  document.getElementById('cat-img').src = 'skins/' + skin;
  localStorage.setItem('selectedSkin', skin);
}

// –ü—Ä–æ–≥—Ä–µ—Å—Å –∏–≥—Ä–æ–∫–∞
let points = parseInt(localStorage.getItem('points')) || 0;
let level = parseInt(localStorage.getItem('level')) || 1;

// –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤ (–∏–º–∏—Ç–∞—Ü–∏—è, –¥–ª—è —Ç–µ—Å—Ç–∞)
let leaderboard = JSON.parse(localStorage.getItem('leaderboard')) || [];

// –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ª–∏–¥–µ—Ä–æ–≤
function updateLeaderboard() {
  const tbody = document.getElementById('leaderboard');
  tbody.innerHTML = '';
  const sorted = leaderboard.sort((a,b) => b.points - a.points);
  sorted.forEach((user,i) => {
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${i+1}</td><td>${user.name}</td><td>${user.points}</td>`;
    tbody.appendChild(tr);
  });
}

// –õ–æ–≥–∏–∫–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è –º–æ—â–Ω–æ—Å—Ç–∏
const measureBtn = document.getElementById('measure-btn');
const powerBar = document.getElementById('power-bar');
const powerValue = document.getElementById('power-value');
const powerText = document.getElementById('power-text');

let lastClick = 0;

measureBtn.addEventListener('click', () => {
  const now = Date.now();
  if(now - lastClick < 30000) { // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ 30 —Å–µ–∫—É–Ω–¥
    alert("–ó–∞—á–µ–∫–∞–π —Ç—Ä–æ—Ö–∏ –ø–µ—Ä–µ–¥ –Ω–∞—Å—Ç—É–ø–Ω–∏–º –≤–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è–º!");
    return;
  }
  lastClick = now;

  const value = Math.floor(Math.random() * 9999) + 1;
  const percent = Math.min(value / 9999 * 100, 100);
  powerBar.style.width = percent + "%";

  if(value < 1000) powerBar.style.background = "green";
  else if(value < 5000) powerBar.style.background = "yellow";
  else if(value < 9000) powerBar.style.background = "orange";
  else powerBar.style.background = "red";

  powerValue.innerText = value;
  if(value < 1000) powerText.innerText = "–°–ª–∞–±–∞—á–æ–∫ üíß";
  else if(value < 5000) powerText.innerText = "–°–µ—Ä–µ–¥–Ω—è –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å ‚ö°";
  else if(value < 9000) powerText.innerText = "–î—É–∂–µ –ø–æ—Ç—É–∂–Ω–∏–π üî•";
  else powerText.innerText = "–ü–æ—Ç—É–∂–Ω–∏–π —è–∫ –∞—Ç–æ–º üí•";

  // –î–æ–±–∞–≤–ª—è–µ–º –æ—á–∫–∏
  points += Math.floor(value / 100); // 1 –æ—á–∫–æ –∑–∞ –∫–∞–∂–¥—ã–µ 100 –º–æ—â–Ω–æ—Å—Ç–∏
  localStorage.setItem('points', points);

  // –£—Ä–æ–≤–Ω–∏ –¥–æ 100
  level = Math.min(100, Math.floor(points / 50) + 1);
  localStorage.setItem('level', level);

  // –≠—Ñ—Ñ–µ–∫—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∫–∞–∂–¥—ã–µ 3 —É—Ä–æ–≤–Ω—è
  if(level % 3 === 0) {
    document.body.classList.add('level-up');
  } else {
    document.body.classList.remove('level-up');
  }

  // –û–±–Ω–æ–≤–ª—è–µ–º leaderboard (–∏–º—è –º–æ–∂–Ω–æ –≤–∑—è—Ç—å –∏–∑ Telegram –±–æ—Ç–∞)
  const username = "User"; // –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∏–º—è –∏–∑ Telegram
  const userIndex = leaderboard.findIndex(u=>u.name===username);
  if(userIndex>=0) leaderboard[userIndex].points = points;
  else leaderboard.push({name: username, points});
  localStorage.setItem('leaderboard', JSON.stringify(leaderboard));
  updateLeaderboard();
});

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
updateLeaderboard();
const savedSkin = localStorage.getItem('selectedSkin');
if(savedSkin) document.getElementById('cat-img').src = 'skins/' + savedSkin;
</script>

</body>
</html>
